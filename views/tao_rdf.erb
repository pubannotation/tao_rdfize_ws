@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix tao: <http://pubannotation.org/ontology/tao.owl#> .
<% @namespaces.each_key do |p| -%>
<% if p == '_base' -%>
@base <%= "<#{@namespaces[p]}>" %> .
<% else -%>
@prefix <%= p %>: <%= "<#{@namespaces[p]}>" %> .
<% end -%>
<% end -%>
<% @denotations.each do |d| -%>
<%= d[:uri] %> rdf:type tao:Context_entity ;
	rdf:type <%= d[:obj] %> ;
<% unless d[:governer].nil? -%>
	tao:governed_by <%= d[:governer][:uri] %> ;
<% end -%>
<% d[:governees].each do |c| -%>
	tao:governs <%= c[:uri] %> ;
<% end -%>
<% d[:precedings].each do |p| -%>
	tao:follows <%= p[:uri] %> ;
<% end -%>
<% d[:followings].each do |f| -%>
	tao:followed_by <%= f[:uri] %> ;
<% end -%>
	tao:denoted_by <%= d[:span_uri] %> .
<% end -%>
<% @spans.each do |s| -%>
<%= s[:uri] %> rdf:type tao:Text_span ;
	tao:part_of <%= "<#{s[:text]}>" %> ;
	tao:begins_at <%= s[:begin] %> ;
	tao:ends_at <%= s[:end] %> ;
<% unless s[:governer].nil? -%>
	tao:governed_by <%= s[:governer][:uri] %> ;
<% end -%>
<% s[:precedings].each do |p| -%>
	tao:follows <%= p[:uri] %> ;
<% end -%>
<% s[:followings].each do |f| -%>
	tao:followed_by <%= f[:uri] %> ;
<% end -%>
	tao:has_value "<%= @text[s[:begin] ... s[:end]] %>" .
<% end -%>